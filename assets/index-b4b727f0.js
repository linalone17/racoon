!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e={createHTMLString:function(e={}){return`\n        <li class="event ${e.slim?"event_slim":""}">\n            <button class="event__button">\n                <span \n                    class="event__icon event__icon_${e.icon}"\n                    role="img" \n                    aria-label="${e.iconLabel}"\n                ></span>\n                <h4 class="event__title">${e.title}</h4>\n                ${e.subtitle?`<span class="event__subtitle">${e.subtitle}</span>`:""}\n            </button>\n        </li>\n    `},type:"Event"};function t(t){let i=Object.freeze(Object.create(e));return t&&t.children.push(i),i}const i={all:{title:"Все",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]},kitchen:{title:"Кухня",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"}]},hall:{title:"Зал",items:[{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Выключено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Выключено"}]},lights:{title:"Лампочки",items:[{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"}]},cameras:{title:"Камеры",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]}};for(let _=0;_<6;++_)i.all.items=[...i.all.items,...i.all.items];const n=Object.keys(i);const l={createHTMLString:function(e={}){return`\n        <header class="header">\n            <a href="/" class="header__logo" aria-label="Яндекс.Дом"></a>\n            <button \n                class="header__menu"\n                aria-expanded="${e.expanded?"true":"false"}" \n            >\n                <span class="header__menu-text a11y-hidden">${e.expanded?"Закрыть меню":"Открыть меню"}</span>\n            </button>\n            <ul class="${"header__links"+(e.expanded?" header__links_opened":"")+(e.toggled?" header__links-toggled":"")}">\n                <li class="header__item">\n                    <a class="header__link header__link_current" href="/" aria-current="page">Сводка</a>\n                </li>\n                <li class="header__item">\n                    <a class="header__link" href="/devices">Устройства</a>\n                </li>\n                <li class="header__item">\n                    <a class="header__link" href="/scripts">Сценарии</a>\n                </li>\n            </ul>   \n        </header>\n    `},setupListeners:function(e){const t=document.querySelector(e),i=t.querySelector(".header__links"),n={expanded:!1,toggled:!1};t.querySelector(".header__menu").addEventListener("click",(function(){toggled||(n.toggled=!0),n.expanded=!n.expanded,i.setAttribute("class","header__links"+(n.expanded?" header__links_opened":"")+(n.toggled?" header__links-toggled":""))}))},selector:".header",type:"Header"};const a={activeTab:null,hasRightScroll:null};const s={setupListeners:function(e){const n=document.querySelector(e),l=n.querySelector(".section__tabs");function s(e){if(e===a.activeTab)return;const s=l.querySelector(`#tab_${a.activeTab}`);s.setAttribute("aria-selected","false"),s.removeAttribute("tab-index"),s.classList.remove("section__tab_active");const r=l.querySelector(`#tab_${e}`);r.setAttribute("aria-selected","true"),r.setAttribute("tab-index","0"),r.classList.add("section__tab_active");const o=n.querySelector(`#panel_${a.activeTab}`);o.setAttribute("class","section__panel section__panel_hidden"),o.setAttribute("aria-hidden","true");o.querySelector(".section__panel-list").innerHTML="";const d=n.querySelector(`#panel_${e}`);d.setAttribute("class","section__panel"),d.setAttribute("aria-hidden","false");const u=d.querySelector(".section__panel-list");c(u,i[e].items.map((e=>({node:t(),props:e}))));const _=n.querySelector(".section__panel-wrapper"),h=_.querySelector(".section__arrow"),b=u.scrollWidth>_.offsetWidth;if(!h&&b){const e=document.createElement("div");e.setAttribute("class","section__arrow"),e.onclick=()=>{d.scrollTo({left:d.scrollLeft+400,behavior:"smooth"})},_.appendChild(e)}else h&&!b&&h.remove();a.activeTab=e}l.childNodes.forEach((e=>{e.addEventListener("click",(e=>{s(e.currentTarget.dataset.key)}))})),n.querySelector(".section__select").oninput=e=>{s(e.target.value)}},afterHTMLParse:function(e){!function(){const e=new URLSearchParams(location.search).get("tab");a.activeTab=n.includes(e)?e:"all",a.hasRightScroll=!1}();const l=document.querySelector(e),s=l.querySelector(`#tab_${a.activeTab}`);s.setAttribute("tab-index","0"),s.classList.add("section__tab_active");const r=l.querySelector(`#panel_${a.activeTab}`);r.setAttribute("class","section__panel"),r.setAttribute("aria-hidden","false");const o=r.querySelector(".section__panel-list"),d=l.querySelector(".section__panel-wrapper");if(c(o,i[a.activeTab].items.map((e=>({node:t(),props:e})))),o.scrollWidth>d.offsetWidth){const e=document.createElement("div");e.setAttribute("class","section__arrow"),e.onclick=()=>{r.scrollTo({left:r.scrollLeft+400,behavior:"smooth"})},d.appendChild(e)}},createHTMLString:function(){const e=null;return`\n        <main class="main">\n        <section class="section main__general">\n            <h2 class="section__title section__title-header section__main-title">Главное</h2>\n            <div class="hero-dashboard">\n                <div class="hero-dashboard__primary">\n                    <h3 class="hero-dashboard__title">Привет, Геннадий!</h3>\n                    <p class="hero-dashboard__subtitle">Двери и окна закрыты, сигнализация включена.</p>\n                    <ul class="hero-dashboard__info">\n                        <li class="hero-dashboard__item">\n                            <div class="hero-dashboard__item-title">Дома</div>\n                            <div class="hero-dashboard__item-details">\n                                +23\n                                <span class="a11y-hidden">°</span>\n                            </div>\n                        </li>\n                        <li class="hero-dashboard__item">\n                            <div class="hero-dashboard__item-title">За окном</div>\n                            <div class="hero-dashboard__item-details">\n                                +19\n                                <span class="a11y-hidden">°</span>\n\n                                <div\n                                    class="hero-dashboard__icon hero-dashboard__icon_rain"\n                                    role="img"\n                                    aria-label="Дождь"\n                                ></div>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n                <ul class="hero-dashboard__schedule">${u([{icon:"temp",iconLabel:"Температура",title:"Philips Cooler",subtitle:"Начнет охлаждать в 16:30"},{icon:"light",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включится в 17:00"},{icon:"light",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включится в 17:00"}],(e=>t(this).createHTMLString(e)))}</ul>\n            </div>\n        </section>\n\n        <section class="section main__scripts">\n            <h2 class="section__title section__title-header">Избранные сценарии</h2>\n\n            <ul class="event-grid">${u([{slim:!0,icon:"light2",iconLabel:"Освещение",title:"Выключить весь свет в доме и во дворе"},{slim:!0,icon:"schedule",iconLabel:"Расписание",title:"Я ухожу"},{slim:!0,icon:"light2",iconLabel:"Освещение",title:"Включить свет в коридоре"},{slim:!0,icon:"temp2",iconLabel:"Температура",title:"Набрать горячую ванну",subtitle:"Начнётся в 18:00"},{slim:!0,icon:"temp2",iconLabel:"Температура",title:"Сделать пол тёплым во всей квартире"}],(e=>t(this).createHTMLString(e)))}</ul>\n        </section>\n\n        <section class="section main__devices">\n            <div class="section__title">\n                <h2 class="section__title-header">\n                    Избранные устройства\n                </h2>\n\n                <select class="section__select" defaultvalue="all">${u(n,(e=>`<option data-key="${e}" value="${e}">\n                            ${i[e].title}\n                        </option>`))}</select>\n\n                <ul role="tablist" class="section__tabs">${u(n,(t=>`<li\n                            data-key="${t}"\n                            role="tab"\n                            aria-selected="${t===e?"true":"false"}"\n                            tabindex="${t===e?"0":void 0}"\n                            class="${"section__tab"+(t===e?" section__tab_active":"")}"\n                            id="tab_${t}"\n                            aria-controls="panel_${t}">\n                            ${i[t].title}\n                        </li>`))}</ul>\n            </div>\n\n            <div class="section__panel-wrapper">${u(n,(n=>`<div \n                        data-key="${n}" \n                        role="tabpanel" \n                        class="${"section__panel"+(n===e?"":" section__panel_hidden")}" \n                        aria-hidden="${n===e?"false":"true"}" \n                        id="panel_${n}" \n                        aria-labelledby="tab_${n}">\n                        <ul class="section__panel-list">${n===e?u(i.null.items,(e=>t(this).createHTMLString(e))):""}</ul>\n                    </div>`))}</div>\n        </section>\n    </main>\n    `},selector:".main",type:"Main"};const r={App:{createHTMLString(){return function(e){let t=Object.freeze(Object.create(l,{children:{value:[]}}));return e&&e.children.push(t),t}(this).createHTMLString()+function(e){let t=Object.freeze(Object.create(s,{children:{value:[]}}));return e&&e.children.push(t),t}(this).createHTMLString()},selector:"#app",type:"App"},Header:l,Main:s,Event:e};function c(e,t){if(Array.isArray(t))e.innerHTML=u(t,(e=>e.node.createHTMLString(e.props))),t.forEach((e=>o(e.node)));else{const{node:i,props:n}=t;e.innerHTML=i.createHTMLString(n),o(i)}}function o(e){var t,i,n;null==(t=e.afterHTMLParse)||t.call(e,e.containerSelector),null==(i=e.setupListeners)||i.call(e,e.containerSelector),null==(n=e.children)||n.forEach(o)}function d(e){var t,i,n,l,a;console.log(e,r[e.type]),null==(i=(t=r[e.type]).afterHTMLParse)||i.call(t,e.selector),null==(l=(n=r[e.type]).setupListeners)||l.call(n,e.selector),null==(a=e.children)||a.forEach(d)}function u(e,t){let i="";for(let n of e)i+=t(n);return i}d({type:"App",selector:"#app",children:[{type:"Header",selector:".header"},{type:"Main",selector:".main"}]});
