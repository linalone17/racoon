!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e={expanded:!1,toggled:!1};const t={createHTMLString:function(e){return`<header class="header"><a href="/" class="header__logo" aria-label="Яндекс.Дом"></a> <button class="header__menu" aria-expanded="${(null==e?void 0:e.expanded)?"true":"false"}"><span class="header__menu-text a11y-hidden">${(null==e?void 0:e.expanded)?"Закрыть меню":"Открыть меню"}</span></button><ul class="${"header__links"+((null==e?void 0:e.expanded)?" header__links_opened":"")+((null==e?void 0:e.toggled)?" header__links-toggled":"")}"><li class="header__item"><a class="header__link header__link_current" href="/" aria-current="page">Сводка</a></li><li class="header__item"><a class="header__link" href="/devices">Устройства</a></li><li class="header__item"><a class="header__link" href="/scripts">Сценарии</a></li></ul></header>`},setupListeners:function(t){const i=document.querySelector(t),l=i.querySelector(".header__links");i.querySelector(".header__menu").addEventListener("click",(function(){toggled||(e.toggled=!0),e.expanded=!e.expanded,l.setAttribute("class","header__links"+(e.expanded?" header__links_opened":"")+(e.toggled?" header__links-toggled":""))}))},containerSelector:".header"};const i={setupStore:null,createHTMLString:function(e){return`<li class="event ${e.slim?"event_slim":""}"><button class="event__button"><span class="event__icon event__icon_${e.icon}" role="img" aria-label="${e.iconLabel}"></span><h4 class="event__title">${e.title}</h4>${e.subtitle?`<span class="event__subtitle">${e.subtitle}</span>`:""}</button></li>`},afterHTMLParse:null,setupListeners:null};function l(e,t){let l=Object.freeze(Object.create(i,{children:{value:[]}}));return e&&e.children.push(l),l}const a={all:{title:"Все",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]},kitchen:{title:"Кухня",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"}]},hall:{title:"Зал",items:[{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Выключено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Выключено"}]},lights:{title:"Лампочки",items:[{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"}]},cameras:{title:"Камеры",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]}};for(let u=0;u<6;++u)a.all.items=[...a.all.items,...a.all.items];const s=Object.keys(a);function n(e,t){if(Array.isArray(t))e.innerHTML=c(t,(e=>e.node.createHTMLString(e.props))),t.forEach((e=>r(e.node)));else{const{node:i,props:l}=t;e.innerHTML=i.createHTMLString(l),r(i)}}function r(e){var t,i;null==(t=e.afterHTMLParse)||t.call(e,e.containerSelector),null==(i=e.setupListeners)||i.call(e,e.containerSelector),e.children.forEach(r)}function c(e,t){let i="";for(let l of e)i+=t(l);return i}const o={activeTab:null,hasRightScroll:null};const d={createHTMLString:function(){!function(){const e=new URLSearchParams(location.search).get("tab");o.activeTab=s.includes(e)?e:"all",o.hasRightScroll=!1}();const e=o.activeTab;return`<main class="main"><section class="section main__general"><h2 class="section__title section__title-header section__main-title">Главное</h2><div class="hero-dashboard"><div class="hero-dashboard__primary"><h3 class="hero-dashboard__title">Привет, Геннадий!</h3><p class="hero-dashboard__subtitle">Двери и окна закрыты, сигнализация включена.</p><ul class="hero-dashboard__info"><li class="hero-dashboard__item"><div class="hero-dashboard__item-title">Дома</div><div class="hero-dashboard__item-details">+23<span class="a11y-hidden">°</span></div></li><li class="hero-dashboard__item"><div class="hero-dashboard__item-title">За окном</div><div class="hero-dashboard__item-details">+19<span class="a11y-hidden">°</span><div class="hero-dashboard__icon hero-dashboard__icon_rain" role="img" aria-label="Дождь"></div></div></li></ul></div><ul class="hero-dashboard__schedule">${c([{icon:"temp",iconLabel:"Температура",title:"Philips Cooler",subtitle:"Начнет охлаждать в 16:30"},{icon:"light",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включится в 17:00"},{icon:"light",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включится в 17:00"}],(e=>l(this).createHTMLString(e)))}</ul></div></section><section class="section main__scripts"><h2 class="section__title section__title-header">Избранные сценарии</h2><ul class="event-grid">${c([{slim:!0,icon:"light2",iconLabel:"Освещение",title:"Выключить весь свет в доме и во дворе"},{slim:!0,icon:"schedule",iconLabel:"Расписание",title:"Я ухожу"},{slim:!0,icon:"light2",iconLabel:"Освещение",title:"Включить свет в коридоре"},{slim:!0,icon:"temp2",iconLabel:"Температура",title:"Набрать горячую ванну",subtitle:"Начнётся в 18:00"},{slim:!0,icon:"temp2",iconLabel:"Температура",title:"Сделать пол тёплым во всей квартире"}],(e=>l(this).createHTMLString(e)))}</ul></section><section class="section main__devices"><div class="section__title"><h2 class="section__title-header">Избранные устройства</h2><select class="section__select" defaultvalue="all">${c(s,(e=>`<option data-key="${e}" value="${e}">${a[e].title}</option>`))}</select><ul role="tablist" class="section__tabs">${c(s,(t=>`<li data-key="${t}" role="tab" aria-selected="${t===e?"true":"false"}" tabindex="${t===e?"0":void 0}" class="${"section__tab"+(t===e?" section__tab_active":"")}" id="tab_${t}" aria-controls="panel_${t}">${a[t].title}</li>`))}</ul></div><div class="section__panel-wrapper">${c(s,(t=>`<div data-key="${t}" role="tabpanel" class="${"section__panel"+(t===e?"":" section__panel_hidden")}" aria-hidden="${t===e?"false":"true"}" id="panel_${t}" aria-labelledby="tab_${t}"><ul class="section__panel-list">${t===e?c(a[e].items,(e=>l(this).createHTMLString(e))):""}</ul></div>`))}</div></section></main>`},setupListeners:function(e){const t=document.querySelector(e),i=t.querySelector(".section__tabs"),s=this;function r(e){if(e===o.activeTab)return;const r=i.querySelector(`#tab_${o.activeTab}`);r.setAttribute("aria-selected","false"),r.removeAttribute("tab-index"),r.classList.remove("section__tab_active");const c=i.querySelector(`#tab_${e}`);c.setAttribute("aria-selected","true"),c.setAttribute("tab-index","0"),c.classList.add("section__tab_active");const d=t.querySelector(`#panel_${o.activeTab}`);d.setAttribute("class","section__panel section__panel_hidden"),d.setAttribute("aria-hidden","true"),d.querySelector(".section__panel-list");const u=t.querySelector(`#panel_${e}`);u.setAttribute("class","section__panel"),u.setAttribute("aria-hidden","false");const _=u.querySelector(".section__panel-list");0===_.childElementCount&&(console.log("rework"),n(_,a[e].items.map((e=>({node:l(s),props:e})))));const h=t.querySelector(".section__panel-wrapper"),b=h.querySelector(".section__arrow"),p=_.scrollWidth>h.offsetWidth;if(!b&&p){const e=document.createElement("div");e.setAttribute("class","section__arrow"),e.onclick=()=>{u.scrollTo({left:u.scrollLeft+400,behavior:"smooth"})},h.appendChild(e)}else b&&!p&&b.remove();o.activeTab=e}i.childNodes.forEach((e=>{e.addEventListener("click",(e=>{r(e.currentTarget.dataset.key)}))})),t.querySelector(".section__select").oninput=e=>{r(e.target.value)}},afterHTMLParse:function(e){const t=document.querySelector(e),i=t.querySelector(`#panel_${o.activeTab}`),l=i.querySelector(".section__panel-list"),a=t.querySelector(".section__panel-wrapper");if(l.scrollWidth>a.offsetWidth){const e=document.createElement("div");e.setAttribute("class","section__arrow"),e.onclick=()=>{i.scrollTo({left:i.scrollLeft+400,behavior:"smooth"})},a.appendChild(e)}},containerSelector:".main"};n(document.querySelector("#app"),{node:Object.freeze({createHTMLString(){return function(e){let i=Object.freeze(Object.create(t,{children:{value:[]}}));return e&&e.children.push(i),i}(this).createHTMLString()+function(e){let t=Object.freeze(Object.create(d,{children:{value:[]}}));return e&&e.children.push(t),t}(this).createHTMLString()},children:[]})});
